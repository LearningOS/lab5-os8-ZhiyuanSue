# 总结报告

总结如下：

## 1/rust学习

rust这部分让我看到了不同于C/C++这样相对自由的语言所做的一些安全上的努力，尽管生命周期和一些为此而产生的东西，确实让人写代码很难受。

另外，rust所使用的一些新的特性，确实让我看到了另一番风景，尽管塞进去很多语法糖，比如问号运算之类的，让我在学习中还是觉得挺迷惑。

还有就是，rustling的文档写的还是很好的，尤其是作为一个偏向学习类的工具来使用非常棒。

## 2/rcore

我觉得rcore相比于ucore更好的地方就在于他从多道程序这些上古的东西开始引入，设计上更加一步步的走向现代操作系统。

给我的收获挺多的，首先是那个“单页表”和“双页表”的知识，我确实不知道这些。

其次在于安全性方面的教训，我无数次吐槽，但凡这是个C/C++，早就balabala怎么写怎么简单了，但是这里面随手写的代码确实存在非常多难以维护的东西，而这是内核，不是普通的用户进程，指针乱飞是值得让我深刻反思的，为了维护好rust这样的安全性，而不搞出什么野指针什么的东西，C/C++（和我）其实还要做更多的事情。

第三是riscv特权指令集，以及rust在具体工程中的实践，riscv已经很久没碰过，并且我过去也没实践或者参考过在特权级写代码的情况，rust是刚学的，没什么深入的理解——确切的说，作为一个偏向底层的程序员，没法很好的理解，这样一行代码映射到内存中他做了什么操作——这让我觉得难以把握这门语言。而rcore作为一个内核，对于地址的需求是非常高的，这样实践一次，我基本可以把握住他大概做了什么。对于语言的应用有非常好的作用。

由于有ucore的基础，我觉得本次实验的难度真的不大。

lab2只要理解虚存和物理内存之间通过页表映射的过程就很容易做，而lab2本身还存在一些不完善的地方，比如我在微信群里问的memset，他使用一个只记录左右节点的设计，很显然没办法处理复杂的交并问题，还有没有给出磁盘交换空间的设计，这都是值得改进的。

lab3的添加进程，由于有前面的多道程序的引入，我觉得很好理解。stride算法也是ucore的经典题目。

lab4需要去理解他的多层架构，从硬盘的块和硬盘inode，映射到内存中文件系统的inode，当然美中不足的肯定是没实现文件树了，尽管单层目录也确实是上古的实现。

lab5这个算法我是知道的，但是实现是头一次，确实长知识了。

其他的吐槽，主要在于吧，这个能不能增量编译啊，每次编译一次好几分钟。

## 结语

实验设计的还是比较巧妙的，一方面不用我们实现某些需要深度去学习了解的知识技能，另一方面，又给出了一个非常好的范例，总而言之，辛苦老师和助教小哥哥们了。